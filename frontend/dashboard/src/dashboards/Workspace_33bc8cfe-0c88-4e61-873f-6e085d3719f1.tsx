{
  "component_code": "import React, { useMemo } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line } from 'recharts';\nimport { Users, Code, Activity, Server, GitBranch, AlertCircle, CheckCircle } from 'lucide-react';\n\nconst WorkspaceDashboard = ({ metrics }) => {\n  // Helper to find a metric by name\n  const getMetric = (name) => metrics.find(m => m.metric === name);\n\n  // Memoized data for charts\n  const agentExecutionTimeData = useMemo(() => {\n    const metric = getMetric(\"Average Agent Execution Time (per type)\");\n    if (!metric || !metric.display_value) return [];\n    return metric.display_value.split(', ').map(item => {\n      const [name, valueStr] = item.split(': ');\n      return { name: name.trim(), value: parseFloat(valueStr.replace('~', '').replace('s', '')) };\n    });\n  }, [metrics]);\n\n  const queryVolumeData = useMemo(() => {\n    const metric = getMetric(\"Query Volume by Agent Type\");\n    if (!metric || !metric.display_value) return [];\n    return metric.display_value.split(', ').map(item => {\n      const [name, valueStr] = item.split(': ');\n      return { name: name.trim(), value: parseInt(valueStr) };\n    });\n  }, [metrics]);\n\n  // Define colors for PieChart\n  const PIE_COLORS = ['#ef4444', '#f97316', '#eab308', '#22c55e', '#3b82f6', '#8b5cf6']; // Red, Orange, Yellow, Green, Blue, Purple\n\n  // Render individual metric cards\n  const MetricCard = ({ title, value, description, icon: Icon, valueColor = 'text-gray-800' }) => (\n    <div className=\"bg-white border border-gray-200 shadow-sm rounded-xl p-6 flex flex-col justify-between h-full\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-700\">{title}</h3>\n        {Icon && <Icon className=\"h-6 w-6 text-gray-400\" />}\n      </div>\n      <p className={`text-4xl font-bold ${valueColor} mb-2`}>{value}</p>\n      <p className=\"text-sm text-gray-500\">{description}</p>\n    </div>\n  );\n\n  // Render chart cards\n  const ChartCard = ({ title, children }) => (\n    <div className=\"bg-white border border-gray-200 shadow-sm rounded-xl p-6 h-full flex flex-col\">\n      <h3 className=\"text-lg font-semibold text-gray-700 mb-4\">{title}</h3>\n      <div className=\"flex-grow\">\n        {children}\n      </div>\n    </div>\n  );\n\n  // Get specific metrics for display\n  const totalQueries = getMetric(\"Total Chat Queries Processed\");\n  const classificationAccuracy = getMetric(\"AI Classification Accuracy\");\n  const avgResponseTime = getMetric(\"AI Query Response Time\");\n  const fallbackRate = getMetric(\"Fallback Query Rate\");\n  const totalCustomers = getMetric(\"Total Active Customers\");\n  const supportResolutionRate = getMetric(\"Support Ticket Resolution Rate\");\n  const avgTicketResolutionTime = getMetric(\"Average Ticket Resolution Time\");\n  const activeNetworkIncidents = getMetric(\"Active Network Incidents\");\n  const aiErrorRate = getMetric(\"AI Query Error Rate\");\n  const kbDocumentCount = getMetric(\"Knowledge Base Document Count\");\n  const kbGrowthRate = getMetric(\"Knowledge Base Growth Rate\");\n  const newCustomerSignups = getMetric(\"New Customer Signups (Monthly)\");\n  const uniqueActiveCustomersDaily = getMetric(\"Unique Active Customers (Daily)\");\n  const avgChatTurnCount = getMetric(\"Average Chat Turn Count per Session\");\n  const dbQueryLatency = getMetric(\"Database Query Latency (Avg.)\");\n  const uiPageLoadTime = getMetric(\"UI Page Load Time\");\n  const servicePlansOffered = getMetric(\"Number of Service Plans Offered\");\n  const criticalNetworkIncidents = getMetric(\"Critical Network Incidents\");\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Telecom Assistant Dashboard</h1>\n\n      {/* KPIs Section */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8\">\n        <MetricCard\n          title=\"Total Chat Queries\"\n          value={totalQueries?.display_value || 'N/A'}\n          description=\"Cumulative queries processed by AI\"\n          icon={Code}\n        />\n        <MetricCard\n          title=\"AI Classification Accuracy\"\n          value={classificationAccuracy?.display_value || 'N/A'}\n          description=\"Correct intent identification rate\"\n          icon={CheckCircle}\n          valueColor={classificationAccuracy?.value >= 80 ? 'text-green-600' : 'text-red-500'}\n        />\n        <MetricCard\n          title=\"Avg. AI Response Time\"\n          value={avgResponseTime?.display_value || 'N/A'}\n          description=\"Average time for AI to respond\"\n          icon={Activity}\n          valueColor={avgResponseTime?.value <= 10 ? 'text-green-600' : 'text-red-500'}\n        />\n        <MetricCard\n          title=\"Fallback Query Rate\"\n          value={fallbackRate?.display_value || 'N/A'}\n          description=\"Queries routed to fallback handler\"\n          icon={AlertCircle}\n          valueColor={fallbackRate?.value <= 10 ? 'text-green-600' : 'text-red-500'}\n        />\n        <MetricCard\n          title=\"Total Active Customers\"\n          value={totalCustomers?.display_value || 'N/A'}\n          description=\"Unique customers interacting\"\n          icon={Users}\n        />\n      </div>\n\n      {/* Main Grid Layout */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Column 1: Performance & Engagement */}\n        <div className=\"grid grid-cols-1 gap-6 auto-rows-min\">\n          <ChartCard title=\"Agent Execution Time (Avg.)\">\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <BarChart data={agentExecutionTimeData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n                <XAxis dataKey=\"name\" tick={{ fill: '#6b7280', fontSize: 12 }} />\n                <YAxis tick={{ fill: '#6b7280', fontSize: 12 }} />\n                <Tooltip cursor={{ fill: 'transparent' }} contentStyle={{ backgroundColor: '#fff', border: '1px solid #e5e7eb', borderRadius: '0.5rem' }} labelStyle={{ color: '#1f2937' }} itemStyle={{ color: '#1f2937' }} />\n                <Legend wrapperStyle={{ paddingTop: '10px' }} />\n                <Bar dataKey=\"value\" name=\"Time (s)\" fill=\"#ef4444\" radius={[4, 4, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          </ChartCard>\n\n          <MetricCard\n            title=\"AI Query Error Rate\"\n            value={aiErrorRate?.display_value || 'N/A'}\n            description=\"Percentage of queries with errors\"\n            icon={AlertCircle}\n            valueColor={aiErrorRate?.value <= 5 ? 'text-green-600' : 'text-red-500'}\n          />\n          <MetricCard\n            title=\"Database Query Latency\"\n            value={dbQueryLatency?.display_value || 'N/A'}\n            description=\"Average time for DB operations\"\n            icon={Server}\n            valueColor={dbQueryLatency?.value <= 200 ? 'text-green-600' : 'text-red-500'}\n          />\n          <MetricCard\n            title=\"UI Page Load Time\"\n            value={uiPageLoadTime?.display_value || 'N/A'}\n            description=\"Average time for UI to load\"\n            icon={Activity}\n            valueColor={uiPageLoadTime?.value <= 5 ? 'text-green-600' : 'text-red-500'}\n          />\n          <MetricCard\n            title=\"Unique Active Customers (Daily)\"\n            value={uniqueActiveCustomersDaily?.display_value || 'N/A'}\n            description=\"Distinct users interacting daily\"\n            icon={Users}\n          />\n          <MetricCard\n            title=\"Avg. Chat Turn Count\"\n            value={avgChatTurnCount?.display_value || 'N/A'}\n            description=\"Average messages per session\"\n            icon={Code}\n          />\n        </div>\n\n        {/* Column 2: Business & Support */}\n        <div className=\"grid grid-cols-1 gap-6 auto-rows-min\">\n          <ChartCard title=\"Query Volume by Agent Type\">\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <PieChart margin={{ top: 0, right: 0, left: 0, bottom: 0 }}>\n                <Pie\n                  data={queryVolumeData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                  label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n                >\n                  {queryVolumeData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={PIE_COLORS[index % PIE_COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip contentStyle={{ backgroundColor: '#fff', border: '1px solid #e5e7eb', borderRadius: '0.5rem' }} labelStyle={{ color: '#1f2937' }} itemStyle={{ color: '#1f2937' }} />\n                <Legend wrapperStyle={{ paddingTop: '10px' }} />\n              </PieChart>\n            </ResponsiveContainer>\n          </ChartCard>\n\n          <MetricCard\n            title=\"Support Ticket Resolution Rate\"\n            value={supportResolutionRate?.display_value || 'N/A'}\n            description=\"Percentage of tickets resolved\"\n            icon={CheckCircle}\n            valueColor={supportResolutionRate?.value >= 80 ? 'text-green-600' : 'text-red-500'}\n          />\n          <MetricCard\n            title=\"Avg. Ticket Resolution Time\"\n            value={avgTicketResolutionTime?.display_value || 'N/A'}\n            description=\"Time to resolve support tickets\"\n            icon={Activity}\n            valueColor={avgTicketResolutionTime?.value <= 8 ? 'text-green-600' : 'text-red-500'}\n          />\n          <MetricCard\n            title=\"Active Network Incidents\"\n            value={activeNetworkIncidents?.display_value || 'N/A'}\n            description=\"Ongoing network issues\"\n            icon={AlertCircle}\n            valueColor={activeNetworkIncidents?.value > 0 ? 'text-red-500' : 'text-green-600'}\n          />\n          <MetricCard\n            title=\"Critical Network Incidents\"\n            value={criticalNetworkIncidents?.display_value || 'N/A'}\n            description=\"Severe service disruptions\"\n            icon={AlertCircle}\n            valueColor={criticalNetworkIncidents?.value > 0 ? 'text-red-500' : 'text-green-600'}\n          />\n          <MetricCard\n            title=\"Service Plans Offered\"\n            value={servicePlansOffered?.display_value || 'N/A'}\n            description=\"Total distinct service plans\"\n            icon={GitBranch}\n          />\n        </div>\n\n        {/* Column 3: Content & Growth */}\n        <div className=\"grid grid-cols-1 gap-6 auto-rows-min\">\n          <MetricCard\n            title=\"Knowledge Base Document Count\"\n            value={kbDocumentCount?.display_value || 'N/A'}\n            description=\"Total documents in KB\"\n            icon={Code}\n          />\n          <MetricCard\n            title=\"Knowledge Base Growth Rate\"\n            value={kbGrowthRate?.display_value || 'N/A'}\n            description=\"KB document increase over time\"\n            icon={GitBranch}\n          />\n          <MetricCard\n            title=\"New Customer Signups (Monthly)\"\n            value={newCustomerSignups?.display_value || 'N/A'}\n            description=\"New users registered this month\"\n            icon={Users}\n          />\n          {/* Placeholder for a potential LineChart if historical data was available for New Customer Signups */}\n          <ChartCard title=\"Customer Signups Trend (Monthly)\">\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={[{name: 'Jan', value: 0}, {name: 'Feb', value: 0}, {name: 'Mar', value: 0}]} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n                <XAxis dataKey=\"name\" tick={{ fill: '#6b7280', fontSize: 12 }} />\n                <YAxis tick={{ fill: '#6b7280', fontSize: 12 }} />\n                <Tooltip cursor={{ fill: 'transparent' }} contentStyle={{ backgroundColor: '#fff', border: '1px solid #e5e7eb', borderRadius: '0.5rem' }} labelStyle={{ color: '#1f2937' }} itemStyle={{ color: '#1f2937' }} />\n                <Legend wrapperStyle={{ paddingTop: '10px' }} />\n                <Line type=\"monotone\" dataKey=\"value\" name=\"Signups\" stroke=\"#ef4444\" strokeWidth={2} dot={{ r: 4 }} activeDot={{ r: 6 }} />\n              </LineChart>\n            </ResponsiveContainer>\n            <p className=\"text-sm text-gray-500 mt-2\">Historical data for this metric is not available.</p>\n          </ChartCard>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkspaceDashboard;"
}